<div *ngFor="let item of costs.costs">
    <p-table [value]="item.costItems"
             dataKey="id">
        <ng-template pTemplate="header">
            <tr>
                <th style="width: 3rem"></th>
                <th>{{item?.name}}</th>
                <th>Account Code</th>
                <th>Quoted</th>
                <th>Screened</th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body"
                     let-costItemBody
                     let-expanded="expanded">
            <tr>
                <td>
                    <button type="button"
                            pButton
                            pRipple
                            [pRowToggler]="costItemBody"
                            class="p-button-text p-button-rounded p-button-plain"
                            [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
                </td>
                <td>{{costItemBody.name}}</td>
                <td>{{costItemBody?.costItemAlias?.accountingCode}}</td>
                <td>
                    <div>SDG {{costItemBody?.costs[0].amount}}</div>
                    <div>{{this.selectedRate.toCurrency}} {{ costItemBody?.costs[0].amount * selectedRate.exchangeRate}}</div>
                </td>
                <td>
                    <div>
                        <p-inputNumber #inputAmount
                                       [(ngModel)]="costItemBody?.costs[1].amount "></p-inputNumber>
                    </div>
                    <div *ngIf="inputAmount.value">{{inputAmount.value * selectedRate.exchangeRate}}</div>
                </td>
                <td>
                    <ng-container *ngIf="costItemBody?.comments?.length">
                        <i class="pi pi-comment"></i>
                        {{costItemBody?.comments?.length}}
                    </ng-container>
                </td>
            </tr>
        </ng-template>

        <ng-template pTemplate="rowexpansion"
                     let-commentsBody>
            <tr>
                <td colspan="7">
                    <div class="p-p-3">

                        <macura-comments [comments]="commentsBody.comments"></macura-comments>
                    </div>
                </td>
            </tr>

        </ng-template>


    </p-table>
</div>
